(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n.p+"static/media/loading.14ca3612.svg"},17:function(e,t,n){e.exports=n.p+"static/media/Cloud_Warning.f3801667.svg"},21:function(e,t,n){e.exports=n(67)},27:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){},61:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),s=n.n(o),c=(n(27),n(18)),i=n(2),l=n.n(i),u=n(4),d=n(13),p=n(14),m=n(19),h=n(15),f=n(20),v=n(3),g=n.n(v),k=(n(50),n(52),function(e){return r.a.createElement("header",null,r.a.createElement("h1",{className:"wrapper"},e.title))}),D=(n(55),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"card-task",draggable:"true",onDrag:function(t){return e.onDrag(t,e.index)},onDrop:function(t){return e.onDrop(t,e.index)}},r.a.createElement("span",{onClick:function(){return e.handleDelete(e.index)}},"X"),r.a.createElement("span",{className:e.isDone?"cross-task":"",onClick:function(){return e.handleCrossOut(e.index)}},e.title)))}),E=(n(57),function(e){var t=e.handleDelete,n=e.handleCrossOut,a=e.draggedTask,o=e.onDrag,s=e.onDrop,c=e.tasks.length;return r.a.createElement("ul",{className:"card"},e.tasks.map(function(e,c){return r.a.createElement(D,{key:c,handleDelete:t,handleCrossOut:n,onDrag:o,onDrop:s,title:e.title,index:c,isDone:e.isDone,draggedTask:a,task:e})}),r.a.createElement("li",{id:"last-index",className:"card-task",onDrop:function(e){return s(e,c)}},r.a.createElement("span",null," ")))}),x=(n(59),function(e){return r.a.createElement("input",{className:"card-task",placeholder:"type some text here",type:"text",name:e.name,value:e.value,onChange:e.handleChange})}),b=(n(61),function(e){return r.a.createElement("button",{className:"btn-add",value:"submit"},r.a.createElement("span",null,"+"))}),w=function(e){return r.a.createElement("footer",null)},C=n(16),y=n.n(C),O=(n(63),function(){return r.a.createElement("div",{className:"loader center-page loader--style1",title:"0"},r.a.createElement("img",{src:y.a,alt:"loading gif"}))}),T=n(17),N=n.n(T),j=(n(65),function(e){return r.a.createElement("div",{id:"error-loading",className:"absolute"},r.a.createElement("div",{className:"relative"},r.a.createElement("img",{src:N.a,alt:"cloud warning error"}),r.a.createElement("span",null,e.error)))}),S=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={appTitle:"To do list",input:"",tasks:[],isLoading:!0,error:null,onDragIndex:0,onDropIndex:0},n.buildTasks=Object(u.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("https://todo-server-alex.herokuapp.com/read",{headers:{"Content-Type":"application/json"}});case 3:t=e.sent,(a=t.data).sort(function(e,t){return e.isDone-t.isDone}),n.setState({tasks:a,isLoading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n.setState({error:"An error occurred"});case 12:case"end":return e.stop()}},e,this,[[0,9]])})),n.handleChange=function(e){var t=e.target.name,a=e.target.value,r={};r[t]=a,n.setState(r)},n.handleSubmit=function(e){e.preventDefault();var t={title:n.state.input};n.setState({input:""}),g.a.post("https://todo-server-alex.herokuapp.com/create",t,{headers:{"Content-Type":"application/json"}}).then(function(e){n.buildTasks()})},n.handleCrossOut=function(e){var t=n.state.tasks[e]._id;g.a.post("https://todo-server-alex.herokuapp.com/update?id=".concat(t),{headers:{"Content-Type":"application/json"}}).then(function(e){n.buildTasks()})},n.handleDelete=function(e){var t=n.state.tasks[e]._id;g.a.post("https://todo-server-alex.herokuapp.com/delete?id=".concat(t),{headers:{"Content-Type":"application/json"}}).then(function(e){n.buildTasks()})},n.onDrag=function(e,t){e.preventDefault(),n.setState({onDragIndex:t})},n.onDragOver=function(e){e.preventDefault()},n.onDrop=function(){var e=Object(u.a)(l.a.mark(function e(t,a){var r,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(c.a)(n.state.tasks),o=r.splice(n.state.onDragIndex,1),e.next=4,n.setState({onDropIndex:a});case 4:r.splice(n.state.onDropIndex,0,o[0]),n.setState({tasks:r});case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"renderError",value:function(){return null!==this.state.error?r.a.createElement(j,{error:this.state.error}):null}},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.buildTasks();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderTasks",value:function(){var e=this.state,t=e.isLoading,n=e.error,a=e.tasks,o=e.draggedTask;return t||null!==n?t&&null===n?r.a.createElement(O,null):null:r.a.createElement(E,{tasks:a,handleCrossOut:this.handleCrossOut,handleDelete:this.handleDelete,draggedTask:o,onDrag:this.onDrag,onDrop:this.onDrop})}},{key:"render",value:function(){var e=this,t=this.state,n=t.appTitle,a=t.input;return r.a.createElement("div",{className:"App"},r.a.createElement(k,{title:n}),this.renderError(),r.a.createElement("div",{className:"card-container wrapper done",onDragOver:function(t){return e.onDragOver(t)}},this.renderTasks()),r.a.createElement("div",{className:"wrapper"},r.a.createElement("form",{className:"card",onSubmit:this.handleSubmit},r.a.createElement(x,{name:"input",value:a,handleChange:this.handleChange}),r.a.createElement("div",{className:"btn-add-container"},r.a.createElement(b,null)))),r.a.createElement(w,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,2,1]]]);
//# sourceMappingURL=main.aa186b0d.chunk.js.map