(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n.p+"static/media/loading.14ca3612.svg"},20:function(e,t,n){e.exports=n.p+"static/media/Cloud_Warning.f3801667.svg"},25:function(e,t,n){e.exports=n(59)},31:function(e,t,n){},4:function(e,t){e.exports="https://todo-server-alex.herokuapp.com"},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(15),s=n.n(o),c=(n(31),n(21)),i=n(2),l=n.n(i),u=n(5),d=n(16),p=n(17),f=n(22),m=n(18),h=n(23),v=n(3),g=n.n(v),D=(n(51),n(52),n(4)),k=n.n(D),E=function(e){var t=e.title;return r.a.createElement("header",null,r.a.createElement("h1",{className:"wrapper"},t))},b=(n(53),function(e){var t=e.title,n=e.onDrag,a=e.onDrop,o=e.index,s=e.isDone,c=e.handleDelete,i=e.handleCrossOut;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"card-task",draggable:!0,onDrag:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return n(e,o)}),onDrop:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return a(e,o)})},r.a.createElement("span",{"data-testid":"task",className:s?"cross-task":"",onClick:function(){return i(o)}},t),r.a.createElement("span",{"data-testid":"delete-task",onClick:function(){return c(o)}},"X")))}),w=n(24),x=n(19),y=n.n(x),C=(n(54),function(e){return function(t){var n=t.loading,a=Object(w.a)(t,["loading"]);return n?r.a.createElement("div",{className:"loader center-page loader--style1",title:"0"},r.a.createElement("img",{src:y.a,alt:"loading gif"})):r.a.createElement(e,a)}}),O=(n(55),C(function(e){var t=e.tasks,n=e.handleDelete,a=e.handleCrossOut,o=e.onDrag,s=e.onDrop,c=t.length;return r.a.createElement("ul",{className:"card"},t.map(function(e,t){return r.a.createElement(b,{key:t,handleDelete:n,handleCrossOut:a,onDrag:o,onDrop:s,title:e.title,index:t,isDone:e.isDone})}),r.a.createElement("li",{id:"last-index",className:"card-task",onDrop:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return s(e,c)})},r.a.createElement("span",null," ")))})),N=(n(56),function(e){var t=e.name,n=e.value,a=e.handleChange;return r.a.createElement("input",{className:"card-task",placeholder:"type some text here",type:"text",name:t,value:n,onChange:a})}),S=(n(57),function(){return r.a.createElement("button",{className:"btn-add",value:"submit"},r.a.createElement("span",null,"+"))}),j=function(){return r.a.createElement("footer",null)},T=n(20),I=n.n(T),A=(n(58),function(e){var t=e.error;return r.a.createElement("div",{id:"error-loading",className:"absolute"},r.a.createElement("div",{className:"relative"},r.a.createElement("img",{src:I.a,alt:"cloud warning error"}),r.a.createElement("span",null,t)))}),W=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={appTitle:"To do list",input:"",tasks:[],error:"",pos:0,onDragIndex:0,onDropIndex:0,loading:!0},n.buildTasks=Object(u.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(k.a,"/read"),{headers:{"Content-Type":"application/json"}});case 3:t=e.sent,(a=t.data).sort(function(e,t){return e.isDone-t.isDone}),n.setState({tasks:a,loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n.setState({error:"An error occurred"});case 12:case"end":return e.stop()}},e,null,[[0,9]])})),n.handleChange=function(e){var t=e.target.value;n.setState({input:t})},n.handleSubmit=function(e){e.preventDefault();var t=n.state.tasks.length,a={title:n.state.input,pos:t+1};n.setState({input:""}),g.a.post("".concat(k.a,"/create"),a,{headers:{"Content-Type":"application/json"}}).then(function(e){n.buildTasks()})},n.handleCrossOut=function(e){var t=n.state.tasks[e]._id;g.a.post("".concat(k.a,"/update?id=").concat(t),{headers:{"Content-Type":"application/json"}}).then(function(e){n.buildTasks()})},n.handleDelete=function(e){var t=n.state.tasks[e]._id;g.a.post("".concat(k.a,"/delete?id=").concat(t),{headers:{"Content-Type":"application/json"}}).then(function(e){n.buildTasks()})},n.onDrag=function(e,t){e.preventDefault(),n.setState({onDragIndex:t})},n.onDragOver=function(e){e.preventDefault()},n.onDrop=function(){var e=Object(u.a)(l.a.mark(function e(t,a){var r,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(c.a)(n.state.tasks),o=r.splice(n.state.onDragIndex,1),e.next=4,n.setState({onDropIndex:a});case 4:r.splice(n.state.onDropIndex,0,o[0]);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.buildTasks();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderError",value:function(){return""!==this.state.error?a.createElement(A,{error:this.state.error}):null}},{key:"renderTasks",value:function(){var e=this.state,t=e.tasks,n=e.loading;return a.createElement(O,{tasks:t,handleCrossOut:this.handleCrossOut,handleDelete:this.handleDelete,onDrag:this.onDrag,onDrop:this.onDrop,loading:n})}},{key:"render",value:function(){var e=this,t=this.state,n=t.appTitle,r=t.input;return a.createElement("div",{className:"App"},a.createElement(E,{title:n}),this.renderError(),a.createElement("div",{className:"card-container wrapper done",onDragOver:function(t){return e.onDragOver(t)}},this.renderTasks()),a.createElement("div",{className:"wrapper"},a.createElement("form",{className:"card",onSubmit:this.handleSubmit},a.createElement(N,{name:"input",value:r,handleChange:this.handleChange}),a.createElement("div",{className:"btn-add-container"},a.createElement(S,null)))),a.createElement(j,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.05ddf10b.chunk.js.map