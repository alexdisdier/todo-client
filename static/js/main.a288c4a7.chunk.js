(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n.p+"static/media/loading.14ca3612.svg"},20:function(e,t,n){e.exports=n.p+"static/media/Cloud_Warning.f3801667.svg"},22:function(e,t,n){e.exports=n(56)},28:function(e,t,n){},4:function(e,t){e.exports="https://todo-server-alex.herokuapp.com"},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),s=n.n(o),c=(n(28),n(21)),i=n(2),u=n.n(i),l=n(10),p=n(5),d=n(6),h=n(8),f=n(7),m=n(9),v=n(3),g=n.n(v),k=(n(48),n(49),n(4)),D=n.n(k),E=function(e){var t=e.title;return r.a.createElement("header",null,r.a.createElement("h1",{className:"wrapper"},t))},b=(n(50),function(e){var t=e.title,n=e.onDrag,a=e.onDrop,o=e.index,s=e.isDone,c=e.handleDelete,i=e.handleCrossOut;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"card-task",draggable:!0,onDrag:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return n(e,o)}),onDrop:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return a(e,o)})},r.a.createElement("span",{onClick:function(){return c(o)}},"X"),r.a.createElement("span",{className:s?"cross-task":"",onClick:function(){return i(o)}},t)))}),O=n(19),y=n.n(O),w=(n(51),function(e){return function(t){return function(n){function a(){return Object(p.a)(this,a),Object(h.a)(this,Object(f.a)(a).apply(this,arguments))}return Object(m.a)(a,n),Object(d.a)(a,[{key:"render",value:function(){return null===(n=this.props[e])||void 0===n||n.hasOwnProperty("length")&&0===n.length||n.contructor===Object&&0===Object.keys(n).length?r.a.createElement("div",{className:"loader center-page loader--style1",title:"0"},r.a.createElement("img",{src:y.a,alt:"loading gif"})):r.a.createElement(t,this.props);var n}}]),a}(r.a.Component)}}),x=(n(52),w("tasks")(function(e){var t=e.tasks,n=e.handleDelete,a=e.handleCrossOut,o=e.onDrag,s=e.onDrop,c=t.length;return r.a.createElement("ul",{className:"card"},t.map(function(e,t){return r.a.createElement(b,{key:t,handleDelete:n,handleCrossOut:a,onDrag:o,onDrop:s,title:e.title,index:t,isDone:e.isDone})}),r.a.createElement("li",{id:"last-index",className:"card-task",onDrop:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return s(e,c)})},r.a.createElement("span",null," ")))})),j=(n(53),function(e){var t=e.name,n=e.value,a=e.handleChange;return r.a.createElement("input",{className:"card-task",placeholder:"type some text here",type:"text",name:t,value:n,onChange:a})}),C=(n(54),function(){return r.a.createElement("button",{className:"btn-add",value:"submit"},r.a.createElement("span",null,"+"))}),N=function(){return r.a.createElement("footer",null)},S=n(20),T=n.n(S),I=(n(55),function(e){var t=e.error;return r.a.createElement("div",{id:"error-loading",className:"absolute"},r.a.createElement("div",{className:"relative"},r.a.createElement("img",{src:T.a,alt:"cloud warning error"}),r.a.createElement("span",null,t)))}),A=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={appTitle:"To do list",input:"",tasks:[],error:"",pos:0,onDragIndex:0,onDropIndex:0},n.buildTasks=Object(l.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(D.a,"/read"),{headers:{"Content-Type":"application/json"}});case 3:t=e.sent,(a=t.data).sort(function(e,t){return e.isDone-t.isDone}),n.setState({tasks:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n.setState({error:"An error occurred"});case 12:case"end":return e.stop()}},e,null,[[0,9]])})),n.handleChange=function(e){var t=e.target.value;n.setState({input:t})},n.handleSubmit=function(e){e.preventDefault();var t=n.state.tasks.length,a={title:n.state.input,pos:t+1};n.setState({input:""}),g.a.post("".concat(D.a,"/create"),a,{headers:{"Content-Type":"application/json"}}).then(function(e){n.buildTasks()})},n.handleCrossOut=function(e){var t=n.state.tasks[e]._id;g.a.post("".concat(D.a,"/update?id=").concat(t),{headers:{"Content-Type":"application/json"}}).then(function(e){n.buildTasks()})},n.handleDelete=function(e){var t=n.state.tasks[e]._id;g.a.post("".concat(D.a,"/delete?id=").concat(t),{headers:{"Content-Type":"application/json"}}).then(function(e){n.buildTasks()})},n.onDrag=function(e,t){e.preventDefault(),n.setState({onDragIndex:t})},n.onDragOver=function(e){e.preventDefault()},n.onDrop=function(){var e=Object(l.a)(u.a.mark(function e(t,a){var r,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(c.a)(n.state.tasks),o=r.splice(n.state.onDragIndex,1),e.next=4,n.setState({onDropIndex:a});case 4:r.splice(n.state.onDropIndex,0,o[0]);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.buildTasks();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderError",value:function(){return""!==this.state.error?a.createElement(I,{error:this.state.error}):null}},{key:"renderTasks",value:function(){var e=this.state.tasks;return a.createElement(x,{tasks:e,handleCrossOut:this.handleCrossOut,handleDelete:this.handleDelete,onDrag:this.onDrag,onDrop:this.onDrop})}},{key:"render",value:function(){var e=this,t=this.state,n=t.appTitle,r=t.input;return a.createElement("div",{className:"App"},a.createElement(E,{title:n}),this.renderError(),a.createElement("div",{className:"card-container wrapper done",onDragOver:function(t){return e.onDragOver(t)}},this.renderTasks()),a.createElement("div",{className:"wrapper"},a.createElement("form",{className:"card",onSubmit:this.handleSubmit},a.createElement(j,{name:"input",value:r,handleChange:this.handleChange}),a.createElement("div",{className:"btn-add-container"},a.createElement(C,null)))),a.createElement(N,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.a288c4a7.chunk.js.map